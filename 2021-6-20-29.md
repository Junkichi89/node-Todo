## ToDoタスクをデータベースに保存しよう
　Chapter 13
https://zenn.dev/wkb/books/node-tutorial/viewer/todo_05

Todoタスクをデータベースを使って保存することで
サーバーを再起動してもタスクが消えないように改善します。

まずは、mysqlをプロジェクト内にinstallします。
`npm install mysql`

`mysql -u root -p`
mysqlのログイン
エラーになったら、https://www.notion.so/Mysql-b62f5dfd90304eacbcb964daeac69e18
このリンクに解決策が・・・

そして、routes/index.jsに以下のように記述して、mysqlを読み込みます。
```
const mysql = require('mysql');
```
そして、connenctionという定数に、データベース接続情報を定義します。
（このパスワードってgithubに上げていいものなんかな？）

そして、接続を確認するコードをPOSTリクエスト内に記述します。
```
connection.connect((err) => {
    if (err) {
      console.log('error connecting: ' + err.stack);
      return
    }
    console.log('success');
  });
```
ここまで記述したら、
以下のURLで確認

http://localhost:3000

こちらにアクセスして、タスクを送信してみます。

とやってみますが、以下のエラーが出ました。

```
error connecting: Error: ER_NOT_SUPPORTED_AUTH_MODE: 
Client does not support authentication protocol requested by server;
 consider upgrading MySQL client
```
はい、わけわかめです。

https://stackoverflow.com/questions/50093144/mysql-8-0-client-does-not-support-authentication-protocol-requested-by-server/50961428:embed:cite

これの通りやってみたらうまく行った？
それともmysqlにログインしている状態で行う必要がある？
非ログイン状態で行うとエラーになった。

`select * from tasks;`
上記について、taskテーブルのレコード全件を取得しする
